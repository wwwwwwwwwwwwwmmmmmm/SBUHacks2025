@import "tailwindcss";

/* Theme variables (RGB triplets for use with Tailwind rgb(var(--...) / <alpha>)) */

/* Light theme */
.light {
    /* font fallbacks */
    --font-geist-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    --font-geist-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;

    /* Core color tokens (space-separated RGB values) - light theme (blue primary) */
    --color-background: 255 255 255; /* white */
    --color-foreground: 1 31 63; /* dark navy (text) */
    --color-muted: 102 102 102; /* muted text */

    /* primary (blue) */
    --color-primary: 59 130 246; /* blue-500 */
    --color-primary-strong: 37 99 235; /* blue-600 */
    --color-on-primary: 255 255 255; /* text on primary */

    /* Navbar tint for light theme: slightly darker than primary so it reads as a bar */
    /* DARKENED from 30 64 175 to 22 55 148 to make the bar a bit deeper */
    --navbar-blue: 22 55 148; /* darker blue */

    /* positive (green) */
    --color-positive: 6 95 70; /* green-ish */
    --color-positive-strong: 5 150 105;

    /* negative (red) */
    --color-negative: 127 29 29;
    --color-negative-strong: 185 28 28;

    /* neutrals / cards */
    --color-card: 255 255 255;
    --color-card-border: 230 230 230;
    --color-mark: 255 251 204; /* highlight */

    /* shadow colors (kept as full strings for legacy rules) */
    --shadow-1: 0 6px 18px rgba(15, 23, 42, 0.08);
    --shadow-2: 0 6px 18px rgba(15, 23, 42, 0.06);

    /* aliases for legacy CSS in this repo (keep previous var names for compatibility) */
    --background: rgb(var(--color-background) / 1);
    --foreground: rgb(var(--color-foreground) / 1);
    --muted: rgb(var(--color-muted) / 1);
    --card-bg: rgb(var(--color-card) / 1);
    --card-border: rgb(var(--color-card-border) / 1);
    --mark-bg: rgb(var(--color-mark) / 1);

    --primary: rgb(var(--color-primary) / 1);
    --primary-strong: rgb(var(--color-primary-strong) / 1);
    --on-primary: rgb(var(--color-on-primary) / 1);

    --positive: rgb(var(--color-positive) / 1);
    --positive-strong: rgb(var(--color-positive-strong) / 1);
    --negative: rgb(var(--color-negative) / 1);
    --negative-strong: rgb(var(--color-negative-strong) / 1);

    /* hover/interactive variants (derived but kept as simple aliases) */
    --positive-border: rgb(16 185 129 / 0.08);
    --negative-border: rgb(239 68 68 / 0.06);
    --positive-hover: rgb(var(--color-positive-strong) / 1);
    --negative-hover: rgb(var(--color-negative-strong) / 1);
}

/* Dark theme */
.dark {
    /* font fallbacks */
    --font-geist-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    --font-geist-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;

    --color-background: 1 16 39; /* deep navy */
    --color-foreground: 255 255 255; /* white text */
    --color-muted: 156 163 175;

    --color-primary: 59 130 246; /* keep blue primary but looks good on dark */
    --color-primary-strong: 37 99 235;
    --color-on-primary: 255 255 255;

    /* Navbar tint for dark theme: darken slightly from 59 130 246 to 37 99 235 so it's deeper */
    --navbar-blue: 37 99 235; /* darker blue for dark mode */

    --color-card: 6 6 6; /* near black */
    --color-card-border: 34 34 34;
    --color-mark: 75 85 99;

    /* positive / negative keep contrast on dark */
    --color-positive: 134 239 172;
    --color-positive-strong: 22 163 74;
    --color-negative: 252 165 165;
    --color-negative-strong: 239 68 68;

    /* alias updates */
    --background: rgb(var(--color-background) / 1);
    --foreground: rgb(var(--color-foreground) / 1);
    --muted: rgb(var(--color-muted) / 1);
    --card-bg: rgb(var(--color-card) / 1);
    --card-border: rgb(var(--color-card-border) / 1);
    --mark-bg: rgb(var(--color-mark) / 1);

    --positive: rgb(var(--color-positive) / 1);
    --positive-strong: rgb(var(--color-positive-strong) / 1);
    --negative: rgb(var(--color-negative) / 1);
    --negative-strong: rgb(var(--color-negative-strong) / 1);

    --positive-border: rgb(16 185 129 / 0.12);
    --negative-border: rgb(239 68 68 / 0.12);

    --shadow-1: 0 6px 18px rgba(0, 0, 0, 0.6);
    --shadow-2: 0 6px 18px rgba(0, 0, 0, 0.5);
}

/* Base page */
body {
    background: var(--background);
    color: var(--foreground);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, Helvetica, sans-serif;
}

/* Utility classes for theme-aware components (used across the app) */
.text-muted {
    color: var(--muted);
}

.text-foreground {
    color: var(--foreground);
}

.text-positive {
    color: var(--positive);
}

.text-negative {
    color: var(--negative);
}

.mark-highlight {
    background: var(--mark-bg);
    padding: 0 2px;
    border-radius: 3px;
}

.wc-container {
    padding: 12px;
}

.wc-title {
    margin-bottom: 8px;
}

.responsive-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 24px;
}

.card {
    padding: 18px;
    border-radius: 12px;
    box-shadow: var(--shadow-1);
    border: 1px solid var(--card-border);
    background: var(--card-bg);
}

.card-positive {
    background: linear-gradient(180deg, rgba(var(--color-positive) / 0.08), rgba(var(--color-positive) / 0.04));
    border: 1px solid var(--positive-border);
}

.card-negative {
    background: linear-gradient(180deg, rgba(var(--color-negative) / 0.06), rgba(var(--color-negative) / 0.03));
    border: 1px solid var(--negative-border);
    box-shadow: var(--shadow-2);
}

.cloud-area {
    width: 100%;
    height: 420px;
}

.analysis-card {
    border: 1px solid var(--card-border);
    padding: 12px;
    border-radius: 8px;
    background: var(--card-bg);
}

.btn-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 8px 10px;
    min-width: 44px;
    height: 36px;
    border-radius: 9999px;
    font-size: 1.02rem;
    background: transparent; /* default replaced by nav-link class */
    border: none; /* default replaced by nav-link class */
    cursor: pointer;
}

/* small helpers */
.mb-3 {
    margin-bottom: 12px;
}

.mt-7 {
    margin-top: 28px;
}

.px-3 {
    padding-left: 12px;
    padding-right: 12px;
}

.m-0 {
    margin: 0;
}

.mt-1 {
    margin-top: 6px;
}

.p-1 {
    padding: 4px;
}

.grid-gap-12 {
    display: grid;
    gap: 12px;
}

.mt-3 {
    margin-top: 12px;
}

/* page helpers */
.page-main {
    padding: 40px;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

.page-header {
    margin-bottom: 20px;
}

.h1-title {
    font-size: 28px;
    margin: 0;
}

/* end of utility classes */

/* Extra: expose CSS variables as runtime properties for Tailwind to pick up colors in templates when needed */
.light {
    /* also provide CSS custom properties with RGB components (no alpha) that tailwind.config references */
    --color-background-rgb: var(--color-background);
}

/* Helper for links placed on a primary-colored background */
.text-on-primary {
    color: var(--on-primary);
}

/* Navbar styles: a distinct bar with a theme-aware blue tint */
.app-navbar {
    /* NOTE: --navbar-blue is provided by the `.light` / `.dark` classes above so
       the bar changes appropriately with theme while remaining visually distinct. */

    background: rgb(var(--navbar-blue) / 1);
    color: rgb(255 255 255 / 1);

    /* Prefer the Geist font variable injected on the element; fall back to system font stack */
    font-family: var(--font-geist-sans), Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, Helvetica, sans-serif;

    /* visual separation: use a subtle border derived from the navbar tint */
    box-shadow: 0 2px 8px rgba(2, 6, 23, 0.18);
    border-bottom: 1px solid rgb(var(--navbar-blue) / 0.12);

    /* ensure the bar visually separates from page content */
    margin-bottom: 14px;
    z-index: 40;
}

/* Explicit theme-aware overrides to guarantee visible changes when the body toggles .light/.dark */
.light .app-navbar {
    /* darker blue in light mode */
    background: rgb(var(--navbar-blue) / 1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: 0 2px 8px rgba(2, 6, 23, 0.12);
}

.dark .app-navbar {
    /* slightly brighter / more saturated blue in dark mode for contrast */
    background: rgb(var(--navbar-blue) / 1);
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    box-shadow: 0 2px 14px rgba(0, 0, 0, 0.6);
}

/* Link styles inside the navbar (enhanced look) */
.nav-link {
    /* Slightly larger padding and pill shape to make links feel like buttons */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 9999px; /* pill */

    /* text styling */
    color: rgb(255 255 255 / 0.98);
    font-weight: 600;
    letter-spacing: 0.3px;
    text-decoration: none;

    /* subtle translucent background to separate from the navbar color (tuned down to be theme-overrideable) */
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.06);

    transition: background-color 160ms ease, transform 80ms ease, box-shadow 160ms ease;
    box-shadow: none;
    min-height: 36px;
    line-height: 1;
}

/* Theme-aware stronger contrasts for links */
.light .nav-link {
    /* On the darker light-mode navbar, use a slightly brighter translucent white to pop */
    background: rgba(255, 255, 255, 0.12);
    border: 1px solid rgba(255, 255, 255, 0.18);
    color: rgb(255 255 255 / 1);
}

.dark .nav-link {
    /* On dark mode, darken the link background a little so it reads as a solid pill */
    background: rgba(0, 0, 0, 0.16);
    border: 1px solid rgba(255, 255, 255, 0.06);
    color: rgb(255 255 255 / 1);
}

/* Button-like interactions */
.nav-link:hover {
    background: rgba(255, 255, 255, 0.18);
    color: rgb(255 255 255 / 1);
    transform: translateY(-2px);
    box-shadow: 0 10px 24px rgba(2, 6, 23, 0.24);
}

.nav-link:active {
    transform: translateY(0);
    box-shadow: none;
}

.nav-link:focus {
    outline: none;
    box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.08);
}

/* Toggle pressed state: useful for ThemeToggle which uses nav-link class */
.nav-link[aria-pressed="true"] {
    transform: translateY(-1px);
    box-shadow: 0 8px 20px rgba(2, 6, 23, 0.22);
}

/* Brand/Logo styling: more prominent pill with accent */
.nav-brand {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 8px 14px;
    border-radius: 12px;
    font-size: 1.03rem;
    font-weight: 800;
    letter-spacing: 0.4px;

    /* stronger translucent backdrop so the brand pops on the navbar */
    background: rgba(255, 255, 255, 0.16);
    border: 1px solid rgba(255, 255, 255, 0.20);
    color: rgb(255 255 255 / 1);
    box-shadow: 0 10px 30px rgba(2, 6, 23, 0.24);
    text-decoration: none;
}

/* Theme-specific brand tuning */
.light .nav-brand {
    background: rgba(255, 255, 255, 0.18);
    border: 1px solid rgba(255, 255, 255, 0.24);
}

.dark .nav-brand {
    /* Slightly darker brand on dark mode so it doesn't glare */
    background: rgba(0, 0, 0, 0.18);
    border: 1px solid rgba(255, 255, 255, 0.10);
}

/* Small white accent dot left of the brand name */
/*.nav-brand::before {*/
/*    content: "";*/
/*    display: inline-block;*/
/*    width: 8px;*/
/*    height: 8px;*/
/*    border-radius: 50%;*/
/*    background: rgb(255 255 255 / 0.95);*/
/*    box-shadow: 0 1px 0 rgba(0,0,0,0.12) inset;*/
/*}*/

.nav-brand:hover {
    background: rgba(255, 255, 255, 0.22);
    transform: translateY(-2px);
}

/* Accessibility: focus-visible stronger ring */
.btn-toggle:focus {
    outline: none;
    box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.08);
}

/* Responsive tweak: ensure mobile nav has adequate spacing */
@media (max-width: 640px) {
    .app-navbar {
        padding-left: 14px;
        padding-right: 14px;
    }
    .app-navbar .nav-link {
        padding-left: 8px;
        padding-right: 8px;
    }

    .nav-brand {
        padding-left: 10px;
        padding-right: 10px;
    }
}
